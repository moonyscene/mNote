<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<script>/*<![CDATA[*/
var $meta = {
	title: 'Cookie, Storage | mNote',
	pageType: 'default'
};
/*]]>*/</script>
<script src="../../share/inc/html_head.js"></script>
</head>
<body>
<script src="../../share/inc/all_header.js"></script>



<h1><a href="#Cookie">Cookie</a>, <a href="#Storage">Storage</a></h1>


<!-- mtab1 -->
<div class="mtab1">
<ul>
<li><a href="#Cookie">Cookie</a></li>
<li><a href="#Storage">Web Storage</a></li>
<li><a href="#SQL">Web SQL Database</a></li>

</ul>
</div>
<!-- /mtab1 -->





<h2 id="Cookie">Cookie</h2>

<dl class="bu">
<dt>지정 가능 쿠키 속성</dt>
<dd>Name, Value, Domain, Path, Expires, Secure</dd>
<dt>쿠키 생성</dt>
<dd>
<xmp class="xmp">
document.cookie='Name=Value;Expires=날짜;Domain=도메인,Path=경로;Secure';
</xmp>
Name 과 Value 속성은 반드시 지정.<br />
Expires GMT 또는 UTC 형식으로 날짜 입력. 지정하지 않으면 브라우저 종료시 쿠키 삭제.<br />
Secure 속성 지정하면 쿠키는 <a href="http://terms.co.kr/SSL.htm">SSL</a> 을 사용해서만 요청 가능.<br />
Dmain, Path 속성 입력하지 않으면 현재 도메인 경로로 자동 입력된다.<br />
Domain 속성이 페이지 속성과 비교해서 일치하지 않으면 , 쿠기에 접근하는 것을 막는다.
Path 속성이 설정되면 현재 폴더 또는 현재 폴더 하위에서 접근할 수 있다. 지정하면 보안에 좋다.
</dd>
</dl>

<h3>Cookie Function : setCookie, getCookie, removeCookie</h3>
<xmp class="xmp">
<script>
	function setCookie(name, value, day) {
		// 변수를 선언합니다.
		var date = new Date();
		date.setDate(date.getDate() + day);
		var willCookie = '';
		willCookie += name + '=' + encodeURIComponent(value) + ';';
		willCookie += 'expires=' + date.toUTCString() + '';
		// 쿠키에 집어넣습니다.
		document.cookie = willCookie;
	}
	function getCookie(name) {
		// 변수를 선언합니다.
		var cookies = document.cookie.split(';');
		// 쿠키를 추출합니다.
		for (var i in cookies) {
			if (cookies[i].search(name) != -1) {
				return decodeURIComponent(cookies[i].replace(name + '=', ''));
			}
		}
	}
	function removeCookie(name) {
		// 변수를 선언합니다.
		var date = new Date();
		date.setDate(date.getDate() - 1);
		var willCookie = '';
		willCookie += 'CookieName=Value;';
		willCookie += 'expires=' + date.toUTCString();
		// 쿠키에 집어넣습니다.
		document.cookie = willCookie;
	}
</script>
<script>
	alert(getCookie('Cookie'));
	setCookie('Cookie', 'Cheese', 7);
	alert(getCookie('Cookie'));
</script>
</xmp>

<p><strong><a href="https://github.com/carhartl/jquery-cookie">jQuery Cookie Plugin</a></strong></p>

<h2 id="Storage">Web Storage</h2>

<ul class="bu">
<li>예전에는 쿠키 이외에, 플래시 저장소, 각각 브라우저별 특수한 저장소 사용해음.</li>
<li>HTML5 부터는 저장소 기능을 기본으로 제공. [IE8,FF3.5,SF4.0,CR4.0,OP10.5]</li>
<li>쿠키 데이터처럼 HTTP  요청 헤더에 포함되거나 개인 자료가 HTTP 요청에 전송되지 않는다.</li>
</ul>

<h3>window.localStorage</h3>

<p>웹 브라우저를 삭제하지 않는 이상 데이터를 영구적으로 저장.</p>

<xmp class="xmp">
localStorage.setItem("name", "Hello World!"); // key, value 생성
document.write(localStorage.getItem("name")); // 호출
localStorage.removeItem("name"); // 삭제
localStorage.clear(); // 모든 데이터 삭제
localStorage.key(number); // 특정 위치의 데이터를 읽음.
ex) for (i = 0; i < localStorage.length; i++) localStorage.removeItem(localStorage.key(i));
</xmp>

<h3>window.sessionStorage</h3>

<p>웹 브라우저가 종료될 때까지 데이터를 저장.<br />
사용법은 window.localStorage 와 동일.</p>

<h2 id="SQL">Web SQL Database</h2>




<br />
<hr />
<br />
<dl class="bu">
<dt>Revision</dt>
<dd>
20130128.
20120425.
</dd>
</dl>


<script src="../../share/inc/all_footer.js"></script>
</body>
</html>