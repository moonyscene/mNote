<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<script>/*<![CDATA[*/
var $meta = {
	title: 'Node.js | mNote',
	pageType: 'default'
};
/*]]>*/</script>
<script src="../../share/inc/html_head.js"></script>
</head>
<body>
<script src="../../share/inc/all_header.js"></script>



<h1>Node.js</h1>

<!-- mtab1 -->
<div class="mtab1">
<menu>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Start">Start</a></li>
<li><a href="#Basic">Basic</a></li>
<li><a href="#Tutorial">Tutorial</a></li>
<li><a href="#misc">misc</a></li>
<li><a href="#Link">Reference Link</a></li>
</menu>
</div><!-- /mtab1 -->

<!-- ◇◆◇◆◇◆◇◆◇◆◇◆ -->
<!-- contentsBlock -->
<div class="contentsBlock" style="float:left;width:60%;">


<p><strong class="h1"><a href="http://pyrasis.com/nodejs/nodejs-HOWTO" target="_blank" title="새 창">Node.js 기본 사용법</a></strong>
내용을 요약하였다.</p>



<!-- ◇◆◇◆◇◆◇◆◇◆ -->
<h2 class="hb1 h2" id="Outline">Outline</h2>

<ol class="bo">
<li><em class="em">JavaScript 로 서버 프로그래밍을 할 수 있도록 해주는 플랫폼입니다.</em></li>
<li>2009년 라이언 달이라는 프로그래머가 구글의 V8 자바스크립트 엔진<a href="http://code.google.com/p/v8" target="_blank" title="새 창">http://code.google.com/p/v8</a>을 웹 브라우저가 아닌 서버로 사용할 수 있도록 만든 것이 Node.js입니다.</li>
<li>단언컨대, Node.js는 가장 생산성이 좋은 플랫폼입니다.</li>
<li>소켓 통신, HTTP 웹 서버, WebSocket(socket.io) 등의 HTTP 기반 실시간 프로토콜도 손쉽게 사용, ..</li>
<li>결과적으로 Node.js는 자바스크립트를 웹 브라우저 속에서만 사용되던 언어에서 범용 스크립트 언어로 탈바꿈 시켰습니다.</li>
<li><strong class="h1 em1">npm</strong> <small>(Node Packaged Modules)</small>
은 Node.js로 만들어진 모듈을 인터넷에서 받아서 설치해주는 패키지 매니저입니다.</li>
<li>우리가 생각한 모든게 다 Node.js 모듈로 만들어져 있습니다(GitHub 저장소의 상당수가 Node.js 모듈입니다).</li>
<li>Node.js의 가장 큰 특징을 꼽으라면 <b class="h1 em2">단일 스레드 모델과 Non-blocking I/O</b>입니다.</li>
</ol>


<!-- ◇◆◇◆◇◆◇◆◇◆ -->
<h2 class="hb1 h2" id="Start">Start</h2>


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">설치하기</h3>

<p>윈도우에 설치: <a href="http://nodejs.org/" target="_blank" title="새 창">nodejs.org</a>에 가서 Windows Installer (.msi)를 받아서 설치합니다.</p>


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">사용하기</h3>

<p>
	Node.js는 node(윈도우에서는 node.exe) 실행파일이 자바스크립트를 읽어서 실행하는 방식입니다.
	즉 스크립트 언어인 Python이나 Perl, Ruby와 동일한 실행 방식입니다.<br />
</p>


<b class="em">app.js</b>
<pre>
<code class="xmp">
console.log('Hello World');
</code>
</pre>
<pre>
<samp class="xmp">
$ node app.js
Hello World
</samp>
</pre>


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">웹 서버 만들기</h3>

<pre>
<code class="xmp">
var http = require('http');

var server = http.createServer(function (req, res) {
  res.writeHead(200, { 'Content-Type' : 'text/plain' });
  res.end('Hello World');
});

server.listen(8000);
</code>
</pre>
<pre>
<samp class="xmp">
$ node app.js
Hello World
</samp>
</pre>

이번에는 node 실행파일이 바로 종료되지 않고 계속 대기 중입니다.
이건 <var class="fwb">server.listen()</var> 함수 때문에 그렇습니다.
8000번 포트로 접속을 계속 대기하고 있어서 사용자가 종료하기 전까지는 끝나지 않습니다.
끝내려면 <kbd class="fwb">Ctrl+C</kbd>를 입력하면 됩니다.<br />
웹 브라우저를 실행하고 <kbd class="em1">http://127.0.0.1:8000</kbd>으로 접속합니다.
빈 화면에 <samp class="">Hello World</samp>가 표시됩니다.


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">express로 웹 서버 만들기</h3>

<pre>
<samp class="xmp">
$ mkdir HelloWebServer
</samp>
</pre>

<b class="em">app.js</b>
<pre>
<code class="xmp">
var express = <b class="em">require</b>('express') // express 모듈을 로딩
  , http = require('http') // http 모듈을 로딩
  , app = express() // express를 함수로 실행해서 app 객체를 생성
  , server = <b class="em">http.createServer</b>(app); // app 객체와 http 서버를 연결

// get 함수로 HTTP의 GET 메서드를 처리할 수 있습니다. get 함수에 경로를 지정하고, 웹 브라우저가 해당 경로에 접속했을 때 실행될 함수를 지정합니다.
// req는 요청(Request) 객체이고 res는 응답(Response) 객체입니다.
app.<b class="em">get</b>('/', function (<b class="em">req</b>, <b class="em">res</b>) {
  res.send('Hello /'); // http://127.0.0.1:8000/
});
app.get('/world.html', function (req, res) {
  res.send('Hello World'); // http://127.0.0.1:8000/world.html
});

// http 모듈로 생성한 http 서버를 8000번 포트로 실행합니다 
server.listen(8000, function() {
  console.log('Express server listening on port ' + server.address().port);
});
</code>
</pre>

<pre>
<samp class="xmp">
~/HelloWebServer$ npm install express
</samp>
</pre>

주의할 점은 app.js가 있는 디렉터리에서 npm install express 명령을 실행해야 된다는 것입니다.
npm install 명령을 실행하면 app.js가 있는 디렉터리에 <b class="em">node_modules</b> 디렉터리가 생성됩니다.
그리고 node_modules 디렉터리 안에 <b class="em">express</b> 모듈이 설치됩니다.

<!-- box1 -->
<div class="box1 info1">
	<b class="em">npm install -g express</b>와 같이 -g 옵션을 주면 Node.js 설치 디렉터리에 모듈이 설치됩니다.
	전역 모듈 설치라고 하는데 이렇게 설치하면 app.js 디렉터리와 상관없이 모듈을 사용할 수 있습니다.
</div>
<!-- /box1 -->


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">템플릿 엔진 사용하기</h3>

<h4 class="hb1 h4">EJS</h4>

<ol class="bo">
<li><a href="http://embeddedjs.com/" target="_blank" title="새 창">EJS</a>(Embedded JavaScript) 는 서버에서 자바스크립트로 HTML을 생성하는 템플릿 엔진입니다.</li>
<li>템플릿 엔진인 만큼 함수를 이용해서 HTML 태그를 생성할 수 있습니다. 함수 이름이나 사용 방식은 Ruby On Rails와 비슷합니다.<br />
<a href="?" target="_blank" title="새 창">https://code.google.com/p/embeddedjavascript/wiki/ViewHelpers</a>
</li>
</ol>

<h4 class="hb1 h4">Jade</h4>
<a href="http://jade-lang.com/" target="_blank" title="새 창">Jade</a>는 HTML 문법을 간략화한 템플릿 엔진입니다. HTML은 간단한 내용이라도 코드가 길어지고 복잡하여 가독성이 떨어지는 단점이 있죠. Jade는 가독성이 높은 문법을 사용하여 생산성을 높입니다. 

<pre>
<samp class="xmp">
~$ sudo npm install -g express-generator
~$ mkdir ExampleJade
~$ cd ExampleJade
~/ExampleJade$ express
</samp>
</pre>
Jade는 Javascript와 별개로 Jade만의 태그 문법과 제어문을 가지고 있습니다.
<a href="http://jade-lang.com/reference" target="_blank" title="새 창">http://jade-lang.com/reference</a>

<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">실시간 통신 사용하기</h3>

<p>Node.js에서 사용할 수 있는 대표적인 실시간 통신 기술은 다음과 같습니다.</p>

<ol class="bo">
<li>TCP socket</li>
<li>WebSocket:  <a href="http://caniuse.com/websockets" target="_blank" title="새 창">WebSocket 지원 웹 브라우저</a></li>
<li>socket.io</li>
</ol>

<h4 class="hb1 h4">WebSocket</h4>

<pre>
<samp class="xmp">
~$ mkdir ExampleWebSocket
~/ExampleWebSocket$ npm install websocket
</samp>
</pre>

이렇게 실시간 통신을 자바스크립트로 간단하게 만들 수 있습니다. WebSocket 서버 &lt;-&gt; 웹 브라우저 뿐만 아니라 WebSocket 서버 &lt;-&gt; WebSocket 서버도 가능합니다.

<a href="http://github.com/Worlize/WebSocket-Node" target="_blank" title="새 창">http://github.com/Worlize/WebSocket-Node</a>

<h4 class="hb1 h4">socket.io</h4>

<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">모듈 작성하기</h3>

<ol class="bo">
<li>웹 브라우저의 자바스크립트는 HTML에서 &lt;script&gt; 태그로 로딩을 합니다. 하지만 지금까지 자바스크립트 끼리는 서로 로딩할 방법이 없었는데 최근 여러가지 표준이 개발되었습니다.</li>
<li>Node.js는 <a href="http://www.commonjs.org/" target="_blank" title="새 창">CommonJS</a> 모듈 방식을 사용합니다.</li>
</ol>


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">package.json 작성하기</h3>

<ol class="bo">
<li>개발한 Node.js 어플리케이션을 서버에 배포할 때에는 <b class="em">package.json</b> 파일이 필수입니다. package.json 파일은 현재 어플리케이션에서 사용하고 있는 npm 모듈을 정의합니다. 그래서 npm 명령은 package.json 파일을 읽어서 모듈을 설치하게 됩니다.</li>
<li><a href="https://www.npmjs.org/doc/json.html" target="_blank" title="새 창">https://www.npmjs.org/doc/json.html</a></li>
<li>package.json 파일은 소스의 최상위 디렉터리에 위치해야 합니다.</li>
<li>dependencies 에 npm 모듈의 이름과 버전을 지정합니다.</li>
<li><a href="https://www.npmjs.org/doc/misc/semver.html" target="_blank" title="새 창">https://www.npmjs.org/doc/misc/semver.html</a></li>
<li>package.json 파일을 작성하고 npm install 명령을 입력하면, 정의된 모듈을 설치합니다.<br />
<pre>
<samp class="xmp">
$ npm install
</samp>
</pre>
</li>
</ol>

<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">환경변수 설정하기</h3>

<ol class="bo">
<li>윈도우에서 환경변수 설정하기(PowerShell을 실행합니다)
<pre>
<samp class="xmp">
PS C:\Project\Hello> $env:NODE_ENV="production"
PS C:\Project\Hello> node app.js
</samp>
</pre>
</li>
<li>리눅스에서 환경 변수 설정하기
<pre>
<samp class="xmp">
$ NODE_ENV="production" node app.js
</samp>
</pre>
</li>
</ol>


<!-- ◇◆◇◆◇◆◇◆ -->
<h3 class="hb1 h3">유용한 모듈</h3>
<p>Node.js로 개발할 때 생산성을 높일 수 있는 유용한 모듈이 많습니다.</p>

<h4 class="hb1 h4">forever</h4>

<ol class="bo">
<li>자바스크립트 소스 파일을 감시하다가 소스 파일의 내용이 바뀌면 자동으로 node를 재시작하는 모듈입니다.
<pre>
<samp class="xmp">
$ npm install -g forever
$ forever start -w ./app.js
</samp>
</pre>
</li>
</ol>

<h4 class="hb1 h4">nodemon</h4>

<ol class="bo">
<li>forever와 비슷한 모듈입니다. 소스 파일의 내용이 바뀌면 자동으로 node를 재시작 합니다. 윈도우에서 개발할 때 forever보다 nodemon이 좀더 편리합니다.
<pre>
<samp class="xmp">
$ npm install -g nodemon
$ nodemon app.js
</samp>
</pre>
</li>
</ol>


<!-- ◇◆◇◆◇◆◇◆◇◆ -->
<h2 class="hb1 h2" id="Basic">Basic</h2>
<!-- ◇◆◇◆◇◆◇◆◇◆ -->
<h2 class="hb1 h2" id="Tutorial">Tutorial</h2>
<!-- ◇◆◇◆◇◆◇◆◇◆ -->
<h2 class="hb1 h2" id="misc">misc</h2>





</div>
<!-- /contentsBlock -->
<!-- ◇◆◇◆◇◆◇◆◇◆◇◆ -->
<!-- contentsBlock -->
<div class="contentsBlock" style="float:left;width:37%;margin:0 0 0 3%;">

<!-- panel1 -->
<div class="panel1 clearfix">

<h2 class="hb1 h2" id="Link">Reference Link</h2>

<ol class="bo num">
<li>
	<a href="https://poiemaweb.com/nodejs-basics" target="_blank" rel="noopener" title="새 창" class="a1">
		9.1 <b class="em1">Node.js Basics</b> :: 네트워크 애플리케이션을 위한 자바스크립트 런타임 환경
	</a> - PoiemaWeb
</li>
<li><a href="https://www.google.co.kr/search?q=node.js+강좌" target="_blank" title="새 창">구글링: node.js 강좌</a></li>
<li><a href="https://nodejs.org/" target="_blank" title="새 창">nodejs.org</a></li>
<li><a href="http://ko.wikipedia.org/wiki/Node.js" target="_blank" title="새 창">Node.js - 위키백과</a></li>
<li><a href="http://pyrasis.com/nodejs/nodejs-HOWTO" target="_blank" title="새 창">Node.js 기본 사용법</a></li>
<li><a href="http://overapi.com/nodejs/" target="_blank" title="새 창">NodeJS Cheat Sheet | OverAPI.com</a></li>
<li><a href="http://www.nodebeginner.org/index-kr.html" target="_blank" title="새 창">The Node Beginner Book</a> (Korean version)</li>
</ol>

</div>
<!-- /panel1 -->



</div>
<!-- /contentsBlock -->
<!-- ◇◆◇◆◇◆◇◆◇◆◇◆ -->


<div class="brclear"></div>
<hr class="line1 dott" />
<p>
<strong>History</strong>
: 20150427.~
20200120. 
20171016. 
20150427.
</p>





<script src="../../share/inc/all_footer.js"></script>
</body>
</html>